"use strict";(self.webpackChunkipylab=self.webpackChunkipylab||[]).push([[568],{568:(e,s,t)=>{t.r(s),t.d(s,{CommandPaletteModel:()=>l.CommandPaletteModel,CommandRegistryModel:()=>l.CommandRegistryModel,IconModel:()=>l.IconModel,IconView:()=>l.IconView,JupyterFrontEndModel:()=>l.JupyterFrontEndModel,MODULE_NAME:()=>i.o,MODULE_VERSION:()=>i.Y,PanelModel:()=>l.PanelModel,SessionManagerModel:()=>l.SessionManagerModel,ShellModel:()=>l.ShellModel,SplitPanelModel:()=>l.SplitPanelModel,SplitPanelView:()=>l.SplitPanelView,TitleModel:()=>l.TitleModel});var i=t(657),l=t(856)},657:(e,s,t)=>{t.d(s,{Y:()=>l,o:()=>n});const i=t(147),l=i.version,n=i.name},856:(e,s,t)=>{t.r(s),t.d(s,{CommandPaletteModel:()=>m,CommandRegistryModel:()=>r,IconModel:()=>k,IconView:()=>S,JupyterFrontEndModel:()=>_,PanelModel:()=>h,SessionManagerModel:()=>c,ShellModel:()=>v,SplitPanelModel:()=>M,SplitPanelView:()=>x,TitleModel:()=>j});var i,l,n=t(643),o=t(180),a=t(697),d=t(657);class r extends o.WidgetModel{defaults(){return{...super.defaults(),_model_name:r.model_name,_model_module:r.model_module,_model_module_version:r.model_module_version,_command_list:[],_commands:[]}}initialize(e,s){this._commands=r.commands,super.initialize(e,s),this.on("msg:custom",this._onMessage.bind(this)),this.on("comm_live_update",(()=>{this.comm_live||(i.customCommands.values().forEach((e=>e.dispose())),this._sendCommandList())}));const t=this.get("_commands");Promise.all(t.map((e=>this._addCommand(e)))).then((()=>this._sendCommandList())).catch(console.warn)}async _onMessage(e){switch(e.func){case"execute":this._execute(e.payload);break;case"addCommand":{await this._addCommand(e.payload);const s=this.get("_commands");this.set("_commands",s.concat(e.payload)),this.save_changes();break}case"removeCommand":this._removeCommand(e.payload)}}_sendCommandList(){this._commands.notifyCommandChanged(),this.set("_command_list",this._commands.listCommands()),this.save_changes()}_execute(e){const{id:s,args:t}=e;this._commands.execute(s,t)}async _addCommand(e){var s;const{id:t,caption:l,label:n,iconClass:a,icon:d}=e;this._commands.hasCommand(t)&&i.customCommands.get(t).dispose();let r=null;d&&(r=null===(s=await(0,o.unpack_models)(d,this.widget_manager))||void 0===s?void 0:s.labIcon);const m=e=>!e.isDisposed&&!!this.comm&&this.comm_live,c=this._commands.addCommand(t,{caption:l,label:n,iconClass:a,icon:r,execute:()=>{this.comm_live?this.send({event:"execute",id:t},{}):c.dispose()},isEnabled:()=>m(c),isVisible:()=>m(c)});i.customCommands.set(t,c),this._sendCommandList()}_removeCommand(e){const{id:s}=e;i.customCommands.has(s)&&i.customCommands.get(s).dispose();const t=this.get("_commands").slice();a.ArrayExt.removeAllWhere(t,(e=>e.id===s)),this.set("_commands",t),this.save_changes(),this._sendCommandList()}}r.serializers={...o.WidgetModel.serializers},r.model_name="CommandRegistryModel",r.model_module=d.o,r.model_module_version=d.Y,r.view_name=null,r.view_module=null,r.view_module_version=d.Y,function(e){e.customCommands=new n.ObservableMap}(i||(i={}));class m extends o.WidgetModel{defaults(){return{...super.defaults(),_model_name:m.model_name,_model_module:m.model_module,_model_module_version:m.model_module_version,_items:[]}}initialize(e,s){this._palette=m.palette,super.initialize(e,s),this.on("msg:custom",this._onMessage.bind(this)),this.get("_items").forEach((e=>this._addItem(e)))}_onMessage(e){switch(e.func){case"addItem":{this._addItem(e.payload);const s=this.get("_items");this.set("_items",s.concat(e.payload)),this.save_changes();break}}}_addItem(e){if(!this._palette)return;const{id:s,category:t,args:i,rank:n}=e,o=`${s}-${t}`;if(l.customItems.has(o))return;const a=this._palette.addItem({command:s,category:t,args:i,rank:n});l.customItems.set(o,a)}}m.serializers={...o.DOMWidgetModel.serializers},m.model_name="CommandPaletteModel",m.model_module=d.o,m.model_module_version=d.Y,m.view_name=null,m.view_module=null,m.view_module_version=d.Y,function(e){e.customItems=new n.ObservableMap}(l||(l={}));class c extends o.WidgetModel{defaults(){return{...super.defaults(),_model_name:c.model_name,_model_module:c.model_module,_model_module_version:c.model_module_version,current_session:null,sessions:[]}}initialize(e,s){const{labShell:t,sessions:i,shell:l}=c;this._sessions=i,this._shell=l,this._labShell=t,i.runningChanged.connect(this._sendSessions,this),super.initialize(e,s),this.on("msg:custom",this._onMessage.bind(this)),this._labShell?(this._labShell.currentChanged.connect(this._currentChanged,this),this._labShell.activeChanged.connect(this._currentChanged,this)):this._currentChanged(),this._sendSessions(),this._sendCurrent(),this.send({event:"sessions_initialized"},{})}_onMessage(e){"refreshRunning"===e.func&&this._sessions.refreshRunning().then((()=>{this.send({event:"sessions_refreshed"},{})}))}_getSessionContext(e){var s,t,i;return null!==(i=null===(t=null===(s=null==e?void 0:e.sessionContext)||void 0===s?void 0:s.session)||void 0===t?void 0:t.model)&&void 0!==i?i:{}}_currentChanged(){this._current_session=this._getSessionContext(this._shell.currentWidget),this.set("current_session",this._current_session),this.set("sessions",(0,a.toArray)(this._sessions.running())),this.save_changes()}_sendSessions(){this.set("sessions",(0,a.toArray)(this._sessions.running())),this.save_changes()}_sendCurrent(){this._current_session=this._getSessionContext(this._shell.currentWidget),this.set("current_session",this._current_session),this.save_changes()}}c.serializers={...o.WidgetModel.serializers},c.model_name="SessionManagerModel",c.model_module=d.o,c.model_module_version=d.Y,c.view_name=null,c.view_module=null,c.view_module_version=d.Y;class _ extends o.WidgetModel{defaults(){return{...super.defaults(),_model_name:_.model_name,_model_module:_.model_module,_model_module_version:_.model_module_version}}initialize(e,s){this._app=_.app,super.initialize(e,s),this.send({event:"lab_ready"},{}),this.set("version",this._app.version),this.save_changes()}}_.serializers={...o.DOMWidgetModel.serializers},_.model_name="JupyterFrontEndModel",_.model_module=d.o,_.model_module_version=d.Y,_.view_name=null,_.view_module=null,_.view_module_version=d.Y;var u=t(246);class h extends u.VBoxModel{defaults(){return{...super.defaults(),_model_name:h.model_name,_model_module:h.model_module,_model_module_version:h.model_module_version}}}h.model_name="PanelModel",h.model_module=d.o,h.model_module_version=d.Y;var p=t(833),g=t(633);class v extends o.WidgetModel{defaults(){return{...super.defaults(),_model_name:v.model_name,_model_module:v.model_module,_model_module_version:v.model_module_version,_widgets:[]}}initialize(e,s){this._shell=v.shell,this._labShell=v.labShell,super.initialize(e,s),this.on("msg:custom",this._onMessage.bind(this)),this.get("_widgets").forEach((e=>this._add(e)))}async _add(e){const{serializedWidget:s,area:t,args:i,id:l}=e,n=await(0,o.unpack_models)(s,this.widget_manager),d=await this.widget_manager.create_view(n,{}),r=await(0,o.unpack_models)(n.get("title"),this.widget_manager),m=d.luminoWidget;m.id=null!=l?l:p.DOMUtils.createDomID(),g.MessageLoop.installMessageHook(m,((e,s)=>{switch(s.type){case"close-request":{const s=this.get("_widgets").slice();a.ArrayExt.removeAllWhere(s,(s=>s.id===e.id)),this.set("_widgets",s),this.save_changes();break}}return!0}));const c=async()=>{m.title.caption=r.get("caption"),m.title.className=r.get("class_name"),m.title.closable=r.get("closable"),m.title.label=r.get("label"),m.title.dataset=r.get("dataset"),m.title.iconLabel=r.get("icon_label");const e=await(0,o.unpack_models)(r.get("icon"),this.widget_manager);m.title.icon=e?e.labIcon:null,m.title.iconClass=e?null:r.get("icon_class")};if(r.on("change",c),c(),("left"===t||"right"===t)&&this._labShell){let e;e="left"===t?this._labShell._leftHandler:this._labShell._rightHandler,e.sideBar.tabCloseRequested.connect(((e,s)=>{s.title.owner.close()})),m.addClass("jp-SideAreaWidget")}return this._shell.add(m,t,i),m.id}async _onMessage(e){switch(e.func){case"add":{const s=await this._add(e.payload),t=this.get("_widgets");this.set("_widgets",t.concat({...e.payload,id:s})),this.save_changes();break}case"expandLeft":this._labShell&&this._labShell.expandLeft();break;case"expandRight":this._labShell&&this._labShell.expandRight()}}}v.serializers={...o.WidgetModel.serializers},v.model_name="ShellModel",v.model_module=d.o,v.model_module_version=d.Y,v.view_name=null,v.view_module=null,v.view_module_version=d.Y;var b=t(778),y=t(755),w=t.n(y);class f extends b.SplitPanel{constructor(e){const s=e.view;delete e.view,super(e),this.addClass("jp-JupyterLuminoSplitPanelWidget"),this._view=s}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view&&this._view.remove(),this._view=null)}}class M extends h{defaults(){return{...super.defaults(),_model_name:M.model_name,_model_module:M.model_module,_model_module_version:M.model_module_version,_view_name:M.model_name,_view_module:M.model_module,_view_module_version:M.model_module_version}}}M.model_name="SplitPanelModel",M.model_module=d.o,M.model_module_version=d.Y,M.view_name="SplitPanelView",M.view_module=d.o,M.view_module_name=d.Y;class x extends u.VBoxView{_createElement(e){return this.luminoWidget=new f({view:this,orientation:this.model.get("orientation")}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=w()(this.luminoWidget.node)}initialize(e){super.initialize(e);const s=this.luminoWidget;this.model.on("change:orientation",(()=>{const e=this.model.get("orientation");s.orientation=e}))}async render(){super.render(),(await Promise.all(this.children_views.views)).forEach((async e=>{this.luminoWidget.addWidget(e.luminoWidget)}))}}class j extends o.WidgetModel{defaults(){return{...super.defaults(),_model_name:j.model_name,_model_module:j.model_module,_model_module_version:j.model_module_version}}initialize(e,s){super.initialize(e,s),this.on("change:icon",this.iconChanged)}async iconChanged(){const e=await(0,o.unpack_models)(this.get("icon"),this.widget_manager);e&&e.on("change",(()=>this.trigger("change")))}}j.model_name="TitleModel",j.model_module=d.o,j.model_module_version=d.Y,j.view_name=null,j.view_module=null,j.view_module_version=d.Y;var C=t(35);class S extends o.DOMWidgetView{initialize(e){super.initialize(e),this.iconElement=document.createElement("div"),this.el.appendChild(this.iconElement),this.update()}update(){const{labIcon:e}=this.model;e&&e.render(this.iconElement,{props:{tag:"div"}})}}class k extends o.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:k.model_name,_model_module:k.model_module,_model_module_version:k.model_module_version,_view_name:k.view_name,_view_module:k.view_module,_view_module_version:k.view_module_version}}initialize(e,s){super.initialize(e,s),this.on("change:name change:svgstr",this.updateIcon),this.updateIcon()}get labIcon(){return this._labIcon}updateIcon(){const e=this.get("name"),s=this.get("svgstr");this._labIcon&&this._labIcon.name===e||(this._labIcon=new C.LabIcon({name:e,svgstr:s})),this._labIcon.svgstr=s,this.trigger("change")}}k.model_name="IconModel",k.model_module=d.o,k.model_module_version=d.Y,k.view_name="IconView",k.view_module=d.o,k.view_module_version=d.Y},147:e=>{e.exports=JSON.parse('{"name":"ipylab","version":"1.0.0","description":"Control JupyterLab from Python notebooks","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","style/*.css","style/*.js","style/index.js"],"homepage":"https://github.com/jtpio/ipylab","bugs":{"url":"https://github.com/jtpio/ipylab/issues"},"license":"BSD-3-Clause","author":{"name":"ipylab contributors","email":""},"main":"lib/index.js","style":"style/widget.css","styleModule":"style/style.js","types":"./lib/index.d.ts","sideEffects":["style/*.css","style/style.js","style/index.js"],"repository":{"type":"git","url":"https://github.com/jtpio/ipylab"},"scripts":{"build":"jlpm build:lib && jlpm build:labextension:dev","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc --sourceMap","build:lib:prod":"tsc","build:prod":"jlpm clean && jlpm build:lib:prod && jlpm build:labextension","clean":"jlpm clean:lib","clean:all":"jlpm clean:lib && jlpm clean:labextension && jlpm clean:lintcache","clean:labextension":"rimraf ipylab/labextension ipylab/_version.py","clean:lib":"rimraf lib tsconfig.tsbuildinfo","clean:lintcache":"rimraf .eslintcache .stylelintcache","eslint":"jlpm eslint:check --fix","eslint:check":"eslint . --cache --ext .ts,.tsx","install:extension":"jlpm build","lint":"jlpm stylelint && jlpm prettier && jlpm eslint","lint:check":"jlpm stylelint:check && jlpm prettier:check && jlpm eslint:check","prepack":"npm run build","prettier":"jlpm prettier:base --write --list-different","prettier:base":"prettier \\"**/*{.ts,.tsx,.js,.jsx,.css,.json,.md}\\"","prettier:check":"jlpm prettier:base --check","stylelint":"jlpm stylelint:check --fix","stylelint:check":"stylelint --cache \\"style/**/*.css\\"","watch":"run-p watch:src watch:labextension","watch:labextension":"jupyter labextension watch .","watch:lib":"tsc -w","watch:src":"tsc -w --sourceMap"},"husky":{"hooks":{"pre-commit":"lint-staged"}},"lint-staged":{"**/*{.ts,.tsx,.js,.jsx,.css,.json,.md}":["prettier --write","git add"],"**/*{.py}":["black","git add"]},"dependencies":{"@jupyter-widgets/base":"^1 || ^2 || ^3 || ^4 || ^5 || ^6.0.5","@jupyter-widgets/controls":"^3 || ^4 || ^5","@jupyterlab/application":"^4.0.4","@jupyterlab/apputils":"^4.1.4","@jupyterlab/observables":"^5.0.4","@lumino/algorithm":"^1.9.2 || ^2","@lumino/commands":"^1.20.1 || ^2","@lumino/disposable":"^1.10.2 || ^2","@lumino/messaging":"^1.10.2 || ^2","@lumino/widgets":"^1.34.0 || ^2"},"devDependencies":{"@jupyterlab/builder":"^4.0.0","@types/expect.js":"^0.3.29","@types/json-schema":"^7.0.11","@types/node":"^18.7.8","@types/react":"^18.0.26","@typescript-eslint/eslint-plugin":"^6.1.0","@typescript-eslint/parser":"^6.1.0","css-loader":"^6.7.1","eslint":"^8.36.0","eslint-config-prettier":"^8.8.0","eslint-plugin-jsdoc":"^39.3.6","eslint-plugin-prettier":"^5.0.0","eslint-plugin-react":"^7.30.1","expect.js":"^0.3.1","fs-extra":"^10.1.0","husky":"^8.0.1","lint-staged":"^13.0.3","mkdirp":"^1.0.4","npm-run-all":"^4.1.5","prettier":"^3.0.0","rimraf":"^5.0.1","source-map-loader":"^1.0.2","style-loader":"^3.3.1","stylelint":"^15.10.1","stylelint-config-recommended":"^13.0.0","stylelint-config-standard":"^34.0.0","stylelint-prettier":"^4.0.0","typescript":"~5.0.2","yjs":"^13.5.40"},"jupyterlab":{"extension":"lib/plugin","outputDir":"ipylab/labextension","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}},"eslintConfig":{"extends":["eslint:recommended","plugin:@typescript-eslint/eslint-recommended","plugin:@typescript-eslint/recommended","plugin:prettier/recommended"],"parser":"@typescript-eslint/parser","parserOptions":{"project":"tsconfig.json","sourceType":"module"},"plugins":["@typescript-eslint"],"rules":{"@typescript-eslint/naming-convention":["error",{"selector":"interface","format":["PascalCase"],"custom":{"regex":"^I[A-Z]","match":true}}],"@typescript-eslint/no-unused-vars":["warn",{"args":"none"}],"@typescript-eslint/no-explicit-any":"off","@typescript-eslint/no-namespace":"off","@typescript-eslint/no-use-before-define":"off","@typescript-eslint/quotes":["error","single",{"avoidEscape":true,"allowTemplateLiterals":false}],"curly":["error","all"],"eqeqeq":"error","prefer-arrow-callback":"error"}},"eslintIgnore":["node_modules","dist","coverage","**/*.d.ts"],"prettier":{"singleQuote":true,"trailingComma":"none","arrowParens":"avoid","endOfLine":"auto","overrides":[{"files":"package.json","options":{"tabWidth":4}}]},"stylelint":{"extends":["stylelint-config-recommended","stylelint-config-standard","stylelint-prettier/recommended"],"rules":{"property-no-vendor-prefix":null,"selector-no-vendor-prefix":null,"value-no-vendor-prefix":null,"selector-class-pattern":null}}}')}}]);